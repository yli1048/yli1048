---
title: "Week 7 Assignment"
author: "Yanyi Li"
date: "2024-10-16"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(jsonlite)
library(tableHTML)
library(xmlconvert)
library(arrow)
```


```{r}
#Create data frame
df <- data.frame(
  Category = c("Electronics", "Electronics", "Electronics", "Electronics", "Home Appliances", "Home Appliances", "Home Appliances", "Home Appliances", "Clothing", "Clothing", "Clothing", "Clothing", "Clothing", "Books", "Books", "Books", "Books", "Sports Equipment", "Sports Equipment", "Sports Equipment" ),
  Item_Name = c("Smartphone", "Smartphone", "Laptop", "Laptop", "Refrigerator", "Refrigerator", "Washing Machine", "Washing Machine", "T-Shirt", "T-Shirt", "T-Shirt", "Jeans", "Jeans", "Fiction Novel", "Fiction Novel", "Non-Fiction Guide", "Non-Fiction Guide", "Basketball", "Tennis Racket", "Tennis Racket"),
  Item_ID = c("101", "101", "102", "102", "201", "201", "202", "202", "301", "301", "301", "302", "302", "401", "401", "402", "402", "501", "502", "502"),
  Brand = c("TechBrand", "TechBrand", "CompuBrand", "CompuBrand", "HomeCool", "HomeCool", "CleanTech", "CleanTech", "FashionCo", "FashionCo", "FashionCo", "DenimWorks", "DenimWorks", "-", "-", "-", "-", "SportsGear", "RacketPro", "RacketPro"),
  Price = c("699.99", "699.99", "1099.99", "1099.99", "899.99", "899.99", "499.99", "499.99", "19.99", "19.99", "19.99", "49.99", "49.99", "14.99", "14.99", "24.99", "24.99", "29.99", "89.99", "89.99"),
  Variation_ID = c("101-A", "101-B", "102-A", "102-B", "201-A", "201-B", "202-A", "202-B", "301-A", "301-B", "301-C", "302-A", "302-B", "401-A", "401-B", "402-A", "402-B", "501-A", "502-A", "502-B"),
  Variation_Details = c("Color: Black, Storage: 64GB", "Color: White, Storage: 128GB", "Color: Silver, Storage: 256GB", "Color: Space Gray, Storage: 512GB", "Color: Stainless Steel, Capacity: 20 cu ft", "Color: White, Capacity: 18 cu ft", "Type: Front Load, Capacity: 4.5 cu ft", "Type: Top Load, Capacity: 5.0 cu ft", "Color: Blue, Size: S", "Color: Red, Size: M", "Color: Green, Size: L", "Color: Dark Blue, Size: 32", "Color: Light Blue, Size: 34", "Format: Hardcover, Language: English", "Format: Paperback, Language: Spanish", "Format: eBook, Language: English", "Format: Paperback, Language: French", "Size: Size 7, Color: Orange", "Material: Graphite, Color: Black", "Material: Aluminum, Color: Silver"))
head(df)
```


```{r}
#JSON
json <- toJSON(x = df, dataframe = 'rows', pretty = T)
head(json)
```

#### Pros:
1. JSON is easy to read and write due to its simple syntax.
2. JSON is less verbose than XML, making it more efficient in terms of data size.
3. JSON is supported by most modern programming languages.

#### Cons:
1. JSON supports only a limited set of data types: strings, numbers, objects, arrays, booleans, and null.
2. JSON does not support comments.
3. JSON does not have a built-in schema definition.


```{r}
#HTML
html <- df
html %>%
  tableHTML()
```

#### Pros:
1. HTML is easy to learn and use, making it accessible for beginners.
2. HTML allows for integration with CSS and JavaScript for enhanced styling and functionality.
3. HTML is Supported by all web browsers, ensuring compatibility.

#### Cons:
1. Limited to structuring content; does not define how it looks (requires CSS).
2. Can become cluttered with excessive use of tags, making maintenance difficult.
3. Not suitable for complex applications without additional technologies (e.g., JavaScript).


```{r}
#XML
xml <- df
df_to_xml(
xml,
fields = "tags",
record.tag = "record",
field.names = NULL,
only.fields = NULL,
exclude.fields = NULL,
root.node = "root",
xml.file = NULL,
non.exist = NULL,
encoding = "UTF-8",
no.return = FALSE
)
```

#### Pros:
1. XML supports a wide range of data types and can represent complex data hierarchies.
2. XML is self-descriptive, making it easier to understand the data structure.
3. Well-formed documents can be validated against schemas (e.g., DTD, XSD) for consistency.


#### Cons:
1. More verbose than JSON, leading to larger file sizes.
2. Parsing can be more complex and slower compared to simpler formats.
3. Requires strict adherence to syntax rules, which can lead to errors if not followed.


```{r}
#Parquet
parquet <- df
write_parquet(parquet, "inventory.parquet")
```


```{r}
read_parquet("inventory.parquet")
```

#### Pros:
1. Columnar format reduces storage space by compressing similar data types together, leading to better compression ratios.
2. Enables faster read times for analytical queries, as only the necessary columns are read from disk.
3. Designed to work well with data processing frameworks, making it ideal for large datasets.


#### Cons:
1. More complex than row-based formats, which may require additional learning for new users.
2. Writing data can be slower compared to row-oriented formats, especially for small, frequent writes.
3. Less suitable for use cases that require frequent updates or transactions, as it is optimized for read-heavy operations.